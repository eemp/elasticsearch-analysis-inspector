(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){e.exports=a(186)},119:function(e,t,a){},186:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(12),o=a.n(r),l=(a(119),a(34)),s=a(23),c=a(36),u=a(35),d=a(15),m=a(37),p=a(11),h=a.n(p),f=a(44),g=a.n(f),b=a(241),v=a(231),y=a(240),k=a(242),E=a(227),C=a(239),O=a(185),j=a(232),_=a(234),S=a(236),z=a(233),x=a(246),w=a(97),T=a.n(w),A=a(95),F=a.n(A),N=a(96),P=a.n(N),M=a(235),I=a(31),V=a(32),D=a(84),W=a.n(D),J=a(85),q=a.n(J),B=a(229),R=a(243),G=a(92),U=a.n(G),H=a(93),L=a.n(H),K=a(105),Q=a(244),X=a(230),Y=["custom","keyword","pattern","simple","standard","stop","whitespace"],Z=a(103),$=a(66),ee=a(86),te=a.n(ee),ae=a(101),ne=a(10),ie=a(87),re=a(47),oe=a(245),le=a(90),se=a.n(le),ce=Object(E.a)(function(e){return{input:{display:"flex",padding:0,height:"auto"},valueContainer:{display:"flex",flexWrap:"wrap",flex:1,alignItems:"center",overflow:"hidden"},chip:{margin:e.spacing(.5,.25)},chipFocused:{backgroundColor:Object(ne.b)("light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],.08)},noOptionsMessage:{padding:e.spacing(1,2)},singleValue:{fontSize:16},placeholder:{position:"absolute",left:2,bottom:6,fontSize:16},paper:{position:"absolute",zIndex:1,marginTop:e.spacing(1),left:0,right:0},divider:{height:e.spacing(2)}}});function ue(e){var t=e.inputRef,a=Object($.a)(e,["inputRef"]);return i.a.createElement("div",Object.assign({ref:t},a))}var de={Control:function(e){var t=e.children,a=e.innerProps,n=e.innerRef,r=e.selectProps,o=r.classes,l=r.TextFieldProps;return i.a.createElement(k.a,Object.assign({fullWidth:!0,InputProps:{inputComponent:ue,inputProps:Object(V.a)({className:o.input,ref:n,children:t},a)}},l))},Menu:function(e){return i.a.createElement(K.a,Object.assign({square:!0,className:e.selectProps.classes.paper},e.innerProps),e.children)},MultiValue:function(e){return i.a.createElement(x.a,{tabIndex:-1,label:e.children,className:te()(e.selectProps.classes.chip,Object(I.a)({},e.selectProps.classes.chipFocused,e.isFocused)),onDelete:e.removeProps.onClick,deleteIcon:i.a.createElement(se.a,e.removeProps)})},NoOptionsMessage:function(e){return i.a.createElement(re.a,Object.assign({color:"textSecondary",className:e.selectProps.classes.noOptionsMessage},e.innerProps),e.children)},Option:function(e){return i.a.createElement(oe.a,Object.assign({ref:e.innerRef,selected:e.isFocused,component:"div",style:{fontWeight:e.isSelected?500:400}},e.innerProps),e.children)},Placeholder:function(e){var t=e.selectProps,a=e.innerProps,n=void 0===a?{}:a,r=e.children;return i.a.createElement(re.a,Object.assign({color:"textSecondary",className:t.classes.placeholder},n),r)},SingleValue:function(e){return i.a.createElement(re.a,Object.assign({className:e.selectProps.classes.singleValue},e.innerProps),e.children)},ValueContainer:function(e){return i.a.createElement("div",{className:e.selectProps.classes.valueContainer},e.children)}};function me(e){var t=e.label,a=e.onChange,n=Object($.a)(e,["label","onChange"]),r=ce(),o=Object(ie.a)(),l=i.a.useState(null),s=Object(Z.a)(l,2),c=s[0],u=s[1];var d={input:function(e){return Object(V.a)({},e,{color:o.palette.text.primary,"& input":{font:"inherit"}})}};return i.a.createElement(ae.a,Object.assign({classes:r,styles:d,inputId:"react-select-single",TextFieldProps:{label:t,InputLabelProps:{htmlFor:"react-select-single",shrink:!0}},components:de,value:c,onChange:function(e){h.a.isFunction(a)&&a(e),u(e)}},n))}var pe=h.a.map(Y,ve),he=h.a.map(["html_strip","mapping","pattern_replace"],ve),fe=h.a.map(["char_group","classic","edge_ngram","keyword","letter","lowercase","ngram","path","pattern","simple_pattern","simple_pattern_split","standard","uax_url_email","whitespace"],ve),ge=h.a.map(["asciifolding","apostrophe","classic","common_ngrams","condition","decimal_digit","delimited_payload","edge_ngram","elision","flatten_graph","hunspell","keep","keep_types","keyword_marker","keyword_repeat","kstem","length","limit","lowercase","min_hash","multiplexer","ngram","pattern_capture","pattern_replace","phonetic","predicate_token_filter","porter_stem","remove_duplicates","reverse","shingle","snowball","stemmer","stemmer_override","stop","synonym","synonym_graph","trim","truncate","unique","uppercase","word_delimiter","word_delimiter_graph"],ve),be=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).editorWillMount=a.editorWillMount.bind(Object(d.a)(a)),a.onAnalyzerChange=a.onDefinitionChange.bind(Object(d.a)(a),"analyzer"),a.onCharFilterChange=a.onDefinitionChange.bind(Object(d.a)(a),"char_filter"),a.onTokenizerChange=a.onDefinitionChange.bind(Object(d.a)(a),"tokenizer"),a.onTokenFilterChange=a.onDefinitionChange.bind(Object(d.a)(a),"filter"),a.onDefinitionChange=a.onDefinitionChange.bind(Object(d.a)(a)),a.onTabChange=a.onTabChange.bind(Object(d.a)(a)),a.state=Object(V.a)({editorContent:e.content&&JSON.stringify(e.content,null,2),selectedTab:1},ye(e.content)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"editorWillMount",value:function(e){}},{key:"onTabChange",value:function(e,t){this.setState({selectedTab:t}),1===t&&this.setState(Object(V.a)({editorContent:this.refs.monaco.editor.getValue()},ye(this.refs.monaco.editor.getValue())))}},{key:"onDefinitionChange",value:function(e,t){var a,n=this.state,i=n.analyzer,r=n.char_filter,o=n.filter,l=n.tokenizer;"analyzer"===e&&"custom"===t.value&&(r=l=o=void 0),this.setState((a={},Object(I.a)(a,e,t),Object(I.a)(a,"editorContent",JSON.stringify(Object(I.a)({analyzer:"custom"!==h.a.get(i,"value")?h.a.get(i,"value"):void 0,char_filter:r?r.map(function(e){return e.value}):void 0,filter:o?o.map(function(e){return e.value}):void 0,tokenizer:h.a.get(l,"value")},e,h.a.isArray(t)?h.a.map(t,function(e){return e.value}):t),null,2)),a))}},{key:"render",value:function(){var e=this.state,t=e.analyzer,a=e.char_filter,n=e.editorContent,r=e.filter,o=e.tokenizer,l=e.selectedTab;function s(e){var t=e.children,a=e.tabIdx;return i.a.createElement(R.a,{hidden:l!==a},t)}return i.a.createElement("div",null,i.a.createElement(B.a,{position:"static",color:"default"},i.a.createElement(Q.a,{indicatorColor:"primary",onChange:this.onTabChange,textColor:"primary",value:l,variant:"fullWidth"},i.a.createElement(X.a,{icon:i.a.createElement(U.a,null)}),i.a.createElement(X.a,{icon:i.a.createElement(L.a,null)}))),i.a.createElement(s,{tabIdx:0},i.a.createElement(q.a,{defaultValue:n,editorWillMount:this.editorWillMount,height:200,language:"json",ref:"monaco",theme:"vs-dark"})),i.a.createElement(s,{tabIdx:1},i.a.createElement(K.a,{elevation:3,square:!0,style:{paddingTop:20,paddingBottom:40}},i.a.createElement(v.a,null,i.a.createElement(me,{onChange:this.onAnalyzerChange,options:pe,placeholder:"Select an analyzer type:",value:t})),i.a.createElement("div",{style:{visibility:"custom"!==h.a.get(t,"value")&&"hidden"}},i.a.createElement(v.a,null,i.a.createElement(me,{onChange:this.onTokenizerChange,options:fe,placeholder:"Select a tokenizer:",value:o})),i.a.createElement(v.a,null,i.a.createElement(me,{isMulti:!0,onChange:this.onCharFilterChange,options:he,placeholder:"Select a character filter:",value:a})),i.a.createElement(v.a,null,i.a.createElement(me,{isMulti:!0,onChange:this.onTokenFilterChange,options:ge,placeholder:"Select a token filter:",value:r}))))))}}]),t}(i.a.Component);function ve(e){return e?h.a.isArray(e)?h.a.map(e,ve):{label:W.a.humanize(h.a.isPlainObject(e)?e.type:e),value:e}:e}function ye(e){var t=(h.a.isString(e)?JSON.parse(e):e)||{},a=t.char_filter,n=t.filter,i=t.tokenizer;return{analyzer:ve("custom"),char_filter:ve(a),filter:ve(n),tokenizer:ve(i)}}var ke=a(65),Ee=a.n(ke),Ce=a(94),Oe=a.n(Ce),je="https://hear2learn.azurewebsites.net/_analyze";function _e(e,t){var a=e.definition;return Oe.a.post(je,Object(V.a)({},a,{text:t})).then(function(t){var a=t.data.tokens;return h.a.assign({},e,{tokens:a})})}var Se=Object(E.a)(function(e){return{chip:{margin:e.spacing(1)}}}),ze="visual",xe="New Analyzer",we=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mode:e.mode||ze,name:e.name||xe},a.onChange=a.onChange.bind(Object(d.a)(a)),a.onEdit=a.onEdit.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onEdit",value:function(){this.setState({mode:"edit"})}},{key:"onChange",value:function(){var e=this.props.onChange,t=JSON.parse(this.refs.editor.refs.monaco.editor.getValue());this.setState({mode:ze,name:this.nameField.value}),h.a.isFunction(e)&&e({definition:t,name:this.nameField.value})}},{key:"inEditMode",value:function(){return"edit"===this.state.mode}},{key:"render",value:function(){var e=this,t=this.props,a=t.className,n=t.definition,r=t.description,o=t.onClose,l=this.state.name;return i.a.createElement(j.a,{className:a},i.a.createElement(z.a,{action:i.a.createElement(_.a,{disableSpacing:!0},this.inEditMode()?i.a.createElement(M.a,{onClick:this.onChange},i.a.createElement(F.a,null)):i.a.createElement(M.a,{onClick:this.onEdit},i.a.createElement(P.a,null)),i.a.createElement(M.a,{onClick:o},i.a.createElement(T.a,null))),subheader:!this.inEditMode()&&r,title:this.inEditMode()?i.a.createElement(k.a,{inputRef:function(t){return e.nameField=t},defaultValue:l}):l}),i.a.createElement(S.a,null,this.inEditMode()?i.a.createElement(be,{content:n,ref:"editor"}):i.a.createElement(Fe,this.props)))}}]),t}(i.a.Component);var Te,Ae=(Te=we,function(e){function t(e){var a;Object(l.a)(this,t);var n=e.definition,i=e.tokens;return(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(d.a)(a)),a.triggerAnalysis=h.a.debounce(a.triggerAnalysis.bind(Object(d.a)(a)),750),a.state={definition:n,tokens:i},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.triggerAnalysis()}},{key:"componentDidUpdate",value:function(e,t){this.props.text!==e.text&&this.triggerAnalysis()}},{key:"onChange",value:function(e){var t=e.definition;this.setState({definition:t},this.triggerAnalysis)}},{key:"triggerAnalysis",value:function(){var e=this,t=this.props.text,a=this.state.definition,n=function(e){var t=e.analyzer,a=e.char_filter,n=e.filter,i=e.tokenizer;return h.a.compact([t&&"Analyzer: ".concat(t),i&&"Tokenizer: ".concat(i),a&&"Character Filters: ".concat(h.a.castArray(a).map(Ne).join(" + ")),n&&"Filters: ".concat(h.a.castArray(n).map(Ne).join(" + "))]).join(", ")}(a);_e({definition:a},t).then(function(t){var a=t.tokens;e.setState({description:n,tokens:a})})}},{key:"render",value:function(){var e=this.state,t=e.definition,a=e.description,n=e.tokens;return i.a.createElement(Te,Object.assign({},this.props,{definition:t,description:a,onChange:this.onChange,tokens:n}))}}]),t}(i.a.Component)),Fe=function(e){var t=e.onTokenSelect,a=e.selectedStartOffset,n=e.tokens,r=Se(),o=h.a.map(n,function(e){return i.a.createElement(x.a,{avatar:i.a.createElement(O.a,null,e.start_offset),className:r.chip,color:a===e.start_offset?"primary":void 0,key:e.start_offset,label:e.token,onClick:function(){return t(e.start_offset)}})});return i.a.createElement(i.a.Fragment,null,o)};function Ne(e){return JSON.stringify(h.a.isPlainObject(e)?e.type:e)}var Pe=a(238),Me=a(98),Ie=a.n(Me),Ve=a(237),De=a(56);function We(e){return i.a.createElement(Ve.a,e,i.a.createElement(De.a,{htmlColor:"white",titleAccess:"Github"},i.a.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}var Je=Object(E.a)(function(e){return{appBarSpacer:e.mixins.toolbar,logo:{margin:10},title:{flexGrow:1}}});function qe(){var e=Je();return i.a.createElement(i.a.Fragment,null,i.a.createElement(B.a,{position:"absolute"},i.a.createElement(Pe.a,null,i.a.createElement(Ie.a,{className:e.logo}),i.a.createElement(re.a,{variant:"h6",className:e.title},"Elasticsearch Analysis Inspector"),i.a.createElement(We,{href:"https://github.com/eemp/elasticsearch-analysis-inspector"}))),i.a.createElement("div",{className:e.appBarSpacer}))}var Be=a(99),Re=a.n(Be),Ge=a(100),Ue=a.n(Ge),He=a(102),Le=Object(He.a)({palette:{primary:{main:Re.a[900]},secondary:{main:Ue.a[700]}}}),Ke="<p>The quick brown fox jumps over the quick dog.</p>",Qe=[{name:"General Content Analyzer",definition:{tokenizer:"standard",char_filter:["html_strip"],filter:["asciifolding","lowercase","stop","kstem"]},key:g()()},{name:"Content Analyzer w/ Shingles (bigrams + trigrams)",definition:{tokenizer:"standard",char_filter:["html_strip"],filter:["asciifolding","lowercase","stop","kstem",{type:"shingle",max_shingle_size:3,output_unigrams:!1}]},key:g()()},{name:"Standard Analyzer",definition:{analyzer:"standard"},key:g()()}],Xe=Object(E.a)(function(e){return{app:{backgroundColor:"#fbfbfb",minHeight:"100vh"},chip:{margin:e.spacing(1)},section:{marginBottom:e.spacing(4),marginTop:e.spacing(4)}}}),Ye=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={text:Ke,analyses:Qe},a.createCloseFn=a.createCloseFn.bind(Object(d.a)(a)),a.onAdd=a.onAdd.bind(Object(d.a)(a)),a.onChange=h.a.debounce(a.onChange.bind(Object(d.a)(a)),750),a.onClose=a.onClose.bind(Object(d.a)(a)),a.onTokenSelect=a.onTokenSelect.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"createCloseFn",value:function(e){var t=this;return function(){t.onClose(e)}}},{key:"onClose",value:function(e){var t=this.state.analyses;this.setState({analyses:h.a.filter(t,function(t,a){return t.key!==e&&e!==a})})}},{key:"onChange",value:function(){var e=this,t=this.state;(function(e,t){return Ee.a.mapSeries(e,function(e){return _e(e,t).catch(function(t){return console.error("Unable to fetch updated analysis for:",e),Ee.a.resolve(e)})})})(t.analyses,t.text).then(function(t){return e.setState({analyses:t})})}},{key:"onAdd",value:function(){var e=this.state.analyses,t=h.a.assign({},e[0],{key:g()(),mode:"edit"});this.setState({analyses:h.a.concat(t,e)})}},{key:"onTokenSelect",value:function(e){var t=this.state.selectedStartOffset===e?null:e;this.setState({selectedStartOffset:t})}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.analyses,r=a.selectedStartOffset,o=a.text;return i.a.createElement(C.a,{theme:Le},i.a.createElement("div",{className:t.app},i.a.createElement(qe,null),i.a.createElement(y.a,{container:!0},i.a.createElement(y.a,{item:!0,xs:12},i.a.createElement(v.a,{className:t.section},i.a.createElement(k.a,{defaultValue:o,fullWidth:!0,label:"Text",onChange:function(t){var a=t.target.value;t.persist(),e.setState({text:a},e.onChange)},variant:"outlined"}))),i.a.createElement(y.a,{item:!0,xs:12},i.a.createElement(v.a,null,i.a.createElement(b.a,{variant:"contained",color:"secondary",onClick:this.onAdd,style:{float:"right"}},"New Analyzer"))),i.a.createElement(y.a,{item:!0,xs:12},i.a.createElement(v.a,null,h.a.map(n,function(a){return i.a.createElement(Ae,Object.assign({},a,{className:t.section,key:a.key,onClose:e.createCloseFn(a.key),onTokenSelect:e.onTokenSelect,selectedStartOffset:r,text:o}))}))))))}}]),t}(i.a.Component);var Ze=function(e){var t=Xe();return i.a.createElement(Ye,Object.assign({classes:t},e))},$e=document.getElementById("root");o.a.render(i.a.createElement(Ze,null),$e)}},[[114,1,2]]]);
//# sourceMappingURL=main.73394e99.chunk.js.map